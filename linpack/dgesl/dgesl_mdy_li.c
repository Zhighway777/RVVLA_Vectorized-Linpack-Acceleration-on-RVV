// data for dgesl
#define LDA 3 
#define N 3
#define LDAmulN (LDA*N)
#define PARALLEL 64
#define SIZE_ALL (PARALLEL*LDAmulN)

#include "stdio.h"

extern void dgesl_modify(double *a,int lda,int n,int *ipvt,double *b,int job);


static double t[LDAmulN] = 
{ 
-1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306,
-1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306,
-1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306,
-1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306, -1.276306,

-0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850,
-0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, 
-0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, 
-0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, -0.357850, 

0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 
0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 
0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 
0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761, 0.572761,

0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458,
0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458,
0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458,
0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458, 0.431458,

0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294,
0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294,
0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294,
0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294, 0.586294,

-0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, 
-0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, 
-0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, 
-0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, -0.256444, 

-0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365,
-0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365,
-0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365,
-0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365, -0.086365,

-1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, 
-1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, 
-1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, 
-1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, -1.773038, 

-1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, 
-1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, 
-1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, 
-1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, -1.404241, 
};

int ipvt_t[N] = {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
	2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2, 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
};
double b_t[N] = { 
	-0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, 
	-0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, 
	-0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, 
	-0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, -0.931213, 
	
	-2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, 
	-2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, 
	-2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, 
	-2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, -2.041809, 

	-0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, 
	-0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, 
	-0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, 
	-0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, -0.653381, 
	
	};


int main(){
 
static double a[SIZE_ALL];

for (int i=0; i<LDAmulN; i++){
	for(int j=0; j<PARALLEL; j++){
		a[PARALLEL*i+j] = t[i];
	} 
} 

int ipvt[40000];
for (int i=0; i<N; i++){
	for(int j=0; j<PARALLEL; j++){
		ipvt[PARALLEL*i+j] = ipvt_t[i];
	}
}

printf("the address of ipvt %lx\n", &ipvt);
double b[60000];
for(int i=0; i<N; i ++){
	for(int j=0; j<PARALLEL; j++){
		b[PARALLEL*i+j] =b_t[i];
	 }
}

printf("the address of b %lx\n", &b);
int job = 0;


dgesl_modify(a, LDA, N, ipvt, b, job);

for (int k=0; k<1; k++){
	printf("%f \n", b[k]);
}
	return 0;
}
